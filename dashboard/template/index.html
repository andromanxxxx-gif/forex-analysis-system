<!DOCTYPE html>
<html>
<head>
    <title>Forex Analysis Dashboard</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <meta http-equiv="refresh" content="10">
</head>
<body>
<h2>Forex Dashboard</h2>
<form method="POST">
    <label for="pair">Select Pair:</label>
    <select name="pair" onchange="this.form.submit()">
        {% for p in pairs %}
        <option value="{{ p }}" {% if p==selected_pair %}selected{% endif %}>{{ p }}</option>
        {% endfor %}
    </select>
</form>

<h3>Signal: {{ signal }}</h3>
{% if tp and sl %}
<p>Take Profit: {{ tp }} | Stop Loss: {{ sl }}</p>
{% endif %}

<div id="chart"></div>
<script>
var graph = {{ graphJSON | safe }};
Plotly.newPlot('chart', graph.data, graph.layout);
</script>
</body>
</html>
