<!DOCTYPE html>
<html>
<head>
    <title>Forex Analysis Dashboard</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <h1>Forex Analysis Dashboard</h1>

    <form method="POST">
        <label>Pilih Pair:</label>
        <select name="pair" onchange="this.form.submit()">
            {% for p in pairs %}
            <option value="{{p}}" {% if p==pair %}selected{% endif %}>{{p}}</option>
            {% endfor %}
        </select>
    </form>

    <h2>Pair: {{pair}}</h2>
    <h3>Signal: {{signal}}</h3>
    <p>Take Profit: {{tp}} | Stop Loss: {{sl}}</p>

    <div id="chart"></div>
    <script>
        var graphs = {{ graphJSON | safe }};
        Plotly.newPlot('chart', graphs.data, graphs.layout);
    </script>

    <h3>Berita Terkini</h3>
    <ul>
        {% for n in news %}
        <li>{{n.headline}} - Sentimen: {{n.sentiment}}</li>
        {% endfor %}
    </ul>
</body>
</html>
